---
- name: Preflight - Fail if target host is not stable for this Role.
  fail:
    msg: "This role is not stable for the target operating system, {{ ansible_distribution }} {{ ansible_distribution_major_version }}."
  when: (ansible_distribution is not defined) or
        (ansible_distribution_version is not defined) or
        (ansible_distribution+" "+ansible_distribution_major_version not in common_proxy_stable_os)

- name: Include Proxy for Profile Playbook
  include_tasks: profile.yml
  when: common_proxy_profile_configure

- name: Include Proxy for wget Playbook
  include_tasks: wget.yml
  when: common_proxy_wget_configure

- name: Include Proxy for Git Playbook
  include_tasks: git.yml
  when: common_proxy_git_configure